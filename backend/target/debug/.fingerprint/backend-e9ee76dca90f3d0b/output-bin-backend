{"$message_type":"diagnostic","message":"unused import: `fs2::FileExt`","code":{"code":"unused_imports","explanation":null},"level":"warning","spans":[{"file_name":"src/store.rs","byte_start":28,"byte_end":40,"line_start":2,"line_end":2,"column_start":5,"column_end":17,"is_primary":true,"text":[{"text":"use fs2::FileExt;","highlight_start":5,"highlight_end":17}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"`#[warn(unused_imports)]` on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"remove the whole `use` item","code":null,"level":"help","spans":[{"file_name":"src/store.rs","byte_start":24,"byte_end":43,"line_start":2,"line_end":3,"column_start":1,"column_end":1,"is_primary":true,"text":[{"text":"use fs2::FileExt;","highlight_start":1,"highlight_end":18},{"text":"use serde::{Deserialize, Serialize};","highlight_start":1,"highlight_end":1}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: unused import: `fs2::FileExt`\u001b[0m\n\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/store.rs:2:5\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m2\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0muse fs2::FileExt;\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m     \u001b[0m\u001b[0m\u001b[1m\u001b[33m^^^^^^^^^^^^\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `#[warn(unused_imports)]` on by default\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unused import: `Arc`","code":{"code":"unused_imports","explanation":null},"level":"warning","spans":[{"file_name":"src/store.rs","byte_start":222,"byte_end":225,"line_start":8,"line_end":8,"column_start":12,"column_end":15,"is_primary":true,"text":[{"text":"    sync::{Arc, Mutex, RwLock},","highlight_start":12,"highlight_end":15}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"remove the unused import","code":null,"level":"help","spans":[{"file_name":"src/store.rs","byte_start":222,"byte_end":227,"line_start":8,"line_end":8,"column_start":12,"column_end":17,"is_primary":true,"text":[{"text":"    sync::{Arc, Mutex, RwLock},","highlight_start":12,"highlight_end":17}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: unused import: `Arc`\u001b[0m\n\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/store.rs:8:12\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m8\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    sync::{Arc, Mutex, RwLock},\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m            \u001b[0m\u001b[0m\u001b[1m\u001b[33m^^^\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unused import: `std::sync::Arc`","code":{"code":"unused_imports","explanation":null},"level":"warning","spans":[{"file_name":"src/handler/reviews.rs","byte_start":125,"byte_end":139,"line_start":5,"line_end":5,"column_start":5,"column_end":19,"is_primary":true,"text":[{"text":"use std::sync::Arc;","highlight_start":5,"highlight_end":19}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"remove the whole `use` item","code":null,"level":"help","spans":[{"file_name":"src/handler/reviews.rs","byte_start":121,"byte_end":142,"line_start":5,"line_end":6,"column_start":1,"column_end":1,"is_primary":true,"text":[{"text":"use std::sync::Arc;","highlight_start":1,"highlight_end":20},{"text":"","highlight_start":1,"highlight_end":1}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: unused import: `std::sync::Arc`\u001b[0m\n\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/handler/reviews.rs:5:5\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m5\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0muse std::sync::Arc;\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m     \u001b[0m\u001b[0m\u001b[1m\u001b[33m^^^^^^^^^^^^^^\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unused import: `crate::store::Store`","code":{"code":"unused_imports","explanation":null},"level":"warning","spans":[{"file_name":"src/handler/reviews.rs","byte_start":191,"byte_end":210,"line_start":8,"line_end":8,"column_start":5,"column_end":24,"is_primary":true,"text":[{"text":"use crate::store::Store;","highlight_start":5,"highlight_end":24}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"remove the whole `use` item","code":null,"level":"help","spans":[{"file_name":"src/handler/reviews.rs","byte_start":187,"byte_end":213,"line_start":8,"line_end":9,"column_start":1,"column_end":1,"is_primary":true,"text":[{"text":"use crate::store::Store;","highlight_start":1,"highlight_end":25},{"text":"use crate::spfresh_ffi::Index;","highlight_start":1,"highlight_end":1}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: unused import: `crate::store::Store`\u001b[0m\n\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/handler/reviews.rs:8:5\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m8\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0muse crate::store::Store;\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m     \u001b[0m\u001b[0m\u001b[1m\u001b[33m^^^^^^^^^^^^^^^^^^^\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unused import: `crate::spfresh_ffi::Index`","code":{"code":"unused_imports","explanation":null},"level":"warning","spans":[{"file_name":"src/handler/reviews.rs","byte_start":217,"byte_end":242,"line_start":9,"line_end":9,"column_start":5,"column_end":30,"is_primary":true,"text":[{"text":"use crate::spfresh_ffi::Index;","highlight_start":5,"highlight_end":30}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"remove the whole `use` item","code":null,"level":"help","spans":[{"file_name":"src/handler/reviews.rs","byte_start":213,"byte_end":245,"line_start":9,"line_end":10,"column_start":1,"column_end":1,"is_primary":true,"text":[{"text":"use crate::spfresh_ffi::Index;","highlight_start":1,"highlight_end":31},{"text":"use crate::spfresh_ffi::VectorIndex;   ","highlight_start":1,"highlight_end":1}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: unused import: `crate::spfresh_ffi::Index`\u001b[0m\n\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/handler/reviews.rs:9:5\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m9\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0muse crate::spfresh_ffi::Index;\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m     \u001b[0m\u001b[0m\u001b[1m\u001b[33m^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unused import: `extract::State`","code":{"code":"unused_imports","explanation":null},"level":"warning","spans":[{"file_name":"src/main.rs","byte_start":102,"byte_end":116,"line_start":7,"line_end":7,"column_start":5,"column_end":19,"is_primary":true,"text":[{"text":"    extract::State,","highlight_start":5,"highlight_end":19}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"remove the unused import","code":null,"level":"help","spans":[{"file_name":"src/main.rs","byte_start":102,"byte_end":123,"line_start":7,"line_end":8,"column_start":5,"column_end":5,"is_primary":true,"text":[{"text":"    extract::State,","highlight_start":5,"highlight_end":20},{"text":"    routing::{get, post},","highlight_start":1,"highlight_end":5}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: unused import: `extract::State`\u001b[0m\n\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/main.rs:7:5\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m7\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    extract::State,\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m     \u001b[0m\u001b[0m\u001b[1m\u001b[33m^^^^^^^^^^^^^^\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unused import: `net::SocketAddr`","code":{"code":"unused_imports","explanation":null},"level":"warning","spans":[{"file_name":"src/main.rs","byte_start":245,"byte_end":260,"line_start":13,"line_end":13,"column_start":3,"column_end":18,"is_primary":true,"text":[{"text":"  net::SocketAddr,","highlight_start":3,"highlight_end":18}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"remove the unused import","code":null,"level":"help","spans":[{"file_name":"src/main.rs","byte_start":245,"byte_end":265,"line_start":13,"line_end":14,"column_start":3,"column_end":3,"is_primary":true,"text":[{"text":"  net::SocketAddr,","highlight_start":3,"highlight_end":19},{"text":"  sync::{Arc, Mutex},","highlight_start":1,"highlight_end":3}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"src/main.rs","byte_start":240,"byte_end":245,"line_start":12,"line_end":13,"column_start":10,"column_end":3,"is_primary":true,"text":[{"text":"use std::{","highlight_start":10,"highlight_end":11},{"text":"  net::SocketAddr,","highlight_start":1,"highlight_end":3}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"src/main.rs","byte_start":283,"byte_end":287,"line_start":14,"line_end":15,"column_start":21,"column_end":2,"is_primary":true,"text":[{"text":"  sync::{Arc, Mutex},","highlight_start":21,"highlight_end":22},{"text":"};","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: unused import: `net::SocketAddr`\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/main.rs:13:3\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m13\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m  net::SocketAddr,\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[33m^^^^^^^^^^^^^^^\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"use of deprecated type alias `libc::int64_t`: Use i64 instead.","code":{"code":"deprecated","explanation":null},"level":"warning","spans":[{"file_name":"src/spfresh_ffi.rs","byte_start":123,"byte_end":130,"line_start":4,"line_end":4,"column_start":36,"column_end":43,"is_primary":true,"text":[{"text":"use libc::{c_char, c_float, c_int, int64_t};","highlight_start":36,"highlight_end":43}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"`#[warn(deprecated)]` on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: use of deprecated type alias `libc::int64_t`: Use i64 instead.\u001b[0m\n\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/spfresh_ffi.rs:4:36\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m4\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0muse libc::{c_char, c_float, c_int, int64_t};\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                                    \u001b[0m\u001b[0m\u001b[1m\u001b[33m^^^^^^^\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `#[warn(deprecated)]` on by default\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"use of deprecated type alias `libc::int64_t`: Use i64 instead.","code":{"code":"deprecated","explanation":null},"level":"warning","spans":[{"file_name":"src/spfresh_ffi.rs","byte_start":2038,"byte_end":2045,"line_start":67,"line_end":67,"column_start":23,"column_end":30,"is_primary":true,"text":[{"text":"                id as int64_t,","highlight_start":23,"highlight_end":30}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: use of deprecated type alias `libc::int64_t`: Use i64 instead.\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/spfresh_ffi.rs:67:23\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m67\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m                id as int64_t,\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                       \u001b[0m\u001b[0m\u001b[1m\u001b[33m^^^^^^^\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"use of deprecated type alias `libc::int64_t`: Use i64 instead.","code":{"code":"deprecated","explanation":null},"level":"warning","spans":[{"file_name":"src/spfresh_ffi.rs","byte_start":482,"byte_end":489,"line_start":13,"line_end":13,"column_start":83,"column_end":90,"is_primary":true,"text":[{"text":"    pub fn spf_add_vector(handle: SPFHandle, vec: *const c_float, dim: c_int, id: int64_t) -> c_int;","highlight_start":83,"highlight_end":90}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: use of deprecated type alias `libc::int64_t`: Use i64 instead.\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/spfresh_ffi.rs:13:83\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m13\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    pub fn spf_add_vector(handle: SPFHandle, vec: *const c_float, dim: c_int, id: int64_t) -> c_int;\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                                                                                   \u001b[0m\u001b[0m\u001b[1m\u001b[33m^^^^^^^\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"use of deprecated type alias `libc::int64_t`: Use i64 instead.","code":{"code":"deprecated","explanation":null},"level":"warning","spans":[{"file_name":"src/spfresh_ffi.rs","byte_start":648,"byte_end":655,"line_start":19,"line_end":19,"column_start":23,"column_end":30,"is_primary":true,"text":[{"text":"        out_ids: *mut int64_t,","highlight_start":23,"highlight_end":30}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: use of deprecated type alias `libc::int64_t`: Use i64 instead.\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/spfresh_ffi.rs:19:23\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m19\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        out_ids: *mut int64_t,\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                       \u001b[0m\u001b[0m\u001b[1m\u001b[33m^^^^^^^\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unused variable: `jsonl_file`","code":{"code":"unused_variables","explanation":null},"level":"warning","spans":[{"file_name":"src/store.rs","byte_start":2014,"byte_end":2024,"line_start":64,"line_end":64,"column_start":17,"column_end":27,"is_primary":true,"text":[{"text":"        let mut jsonl_file = OpenOptions::new()","highlight_start":17,"highlight_end":27}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"`#[warn(unused_variables)]` on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"if this is intentional, prefix it with an underscore","code":null,"level":"help","spans":[{"file_name":"src/store.rs","byte_start":2014,"byte_end":2024,"line_start":64,"line_end":64,"column_start":17,"column_end":27,"is_primary":true,"text":[{"text":"        let mut jsonl_file = OpenOptions::new()","highlight_start":17,"highlight_end":27}],"label":null,"suggested_replacement":"_jsonl_file","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: unused variable: `jsonl_file`\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/store.rs:64:17\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m64\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        let mut jsonl_file = OpenOptions::new()\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                 \u001b[0m\u001b[0m\u001b[1m\u001b[33m^^^^^^^^^^\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33mhelp: if this is intentional, prefix it with an underscore: `_jsonl_file`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `#[warn(unused_variables)]` on by default\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"variable does not need to be mutable","code":{"code":"unused_mut","explanation":null},"level":"warning","spans":[{"file_name":"src/store.rs","byte_start":2010,"byte_end":2024,"line_start":64,"line_end":64,"column_start":13,"column_end":27,"is_primary":true,"text":[{"text":"        let mut jsonl_file = OpenOptions::new()","highlight_start":13,"highlight_end":27}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"`#[warn(unused_mut)]` on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"remove this `mut`","code":null,"level":"help","spans":[{"file_name":"src/store.rs","byte_start":2010,"byte_end":2014,"line_start":64,"line_end":64,"column_start":13,"column_end":17,"is_primary":true,"text":[{"text":"        let mut jsonl_file = OpenOptions::new()","highlight_start":13,"highlight_end":17}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: variable does not need to be mutable\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/store.rs:64:13\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m64\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        let mut jsonl_file = OpenOptions::new()\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m             \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m----\u001b[0m\u001b[0m\u001b[1m\u001b[33m^^^^^^^^^^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m             \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m             \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12mhelp: remove this `mut`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `#[warn(unused_mut)]` on by default\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"method `len` is never used","code":{"code":"dead_code","explanation":null},"level":"warning","spans":[{"file_name":"src/store.rs","byte_start":856,"byte_end":867,"line_start":35,"line_end":35,"column_start":11,"column_end":22,"is_primary":false,"text":[{"text":"pub trait VectorIndex: Send + Sync {","highlight_start":11,"highlight_end":22}],"label":"method in this trait","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"src/store.rs","byte_start":1227,"byte_end":1230,"line_start":41,"line_end":41,"column_start":8,"column_end":11,"is_primary":true,"text":[{"text":"    fn len(&self) -> Result<u64, StoreError>;","highlight_start":8,"highlight_end":11}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"`#[warn(dead_code)]` on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: method `len` is never used\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/store.rs:41:8\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m35\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0mpub trait VectorIndex: Send + Sync {\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m           \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m-----------\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12mmethod in this trait\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m...\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m41\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    fn len(&self) -> Result<u64, StoreError>;\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m        \u001b[0m\u001b[0m\u001b[1m\u001b[33m^^^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `#[warn(dead_code)]` on by default\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"field `offsets_path` is never read","code":{"code":"dead_code","explanation":null},"level":"warning","spans":[{"file_name":"src/store.rs","byte_start":1318,"byte_end":1331,"line_start":45,"line_end":45,"column_start":12,"column_end":25,"is_primary":false,"text":[{"text":"pub struct MetadataStore {","highlight_start":12,"highlight_end":25}],"label":"field in this struct","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"src/store.rs","byte_start":1365,"byte_end":1377,"line_start":47,"line_end":47,"column_start":5,"column_end":17,"is_primary":true,"text":[{"text":"    offsets_path: PathBuf,","highlight_start":5,"highlight_end":17}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: field `offsets_path` is never read\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/store.rs:47:5\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m45\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0mpub struct MetadataStore {\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m            \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m-------------\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12mfield in this struct\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m46\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    jsonl_path: PathBuf,\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m47\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    offsets_path: PathBuf,\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m     \u001b[0m\u001b[0m\u001b[1m\u001b[33m^^^^^^^^^^^^\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"`extern` block uses type `SPFHandleOpaque`, which is not FFI-safe","code":{"code":"improper_ctypes","explanation":null},"level":"warning","spans":[{"file_name":"src/spfresh_ffi.rs","byte_start":373,"byte_end":387,"line_start":12,"line_end":12,"column_start":60,"column_end":74,"is_primary":true,"text":[{"text":"    pub fn spf_init_index(path: *const c_char, out_handle: *mut SPFHandle) -> c_int;","highlight_start":60,"highlight_end":74}],"label":"not FFI-safe","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"consider adding a member to this struct","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"this struct has no fields","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"the type is defined here","code":null,"level":"note","spans":[{"file_name":"src/spfresh_ffi.rs","byte_start":177,"byte_end":203,"line_start":7,"line_end":7,"column_start":1,"column_end":27,"is_primary":true,"text":[{"text":"pub struct SPFHandleOpaque;","highlight_start":1,"highlight_end":27}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":null},{"message":"`#[warn(improper_ctypes)]` on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: `extern` block uses type `SPFHandleOpaque`, which is not FFI-safe\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/spfresh_ffi.rs:12:60\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m12\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    pub fn spf_init_index(path: *const c_char, out_handle: *mut SPFHandle) -> c_int;\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                                                            \u001b[0m\u001b[0m\u001b[1m\u001b[33m^^^^^^^^^^^^^^\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33mnot FFI-safe\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: consider adding a member to this struct\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: this struct has no fields\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;10mnote\u001b[0m\u001b[0m: the type is defined here\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/spfresh_ffi.rs:7:1\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m7\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0mpub struct SPFHandleOpaque;\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;10m^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `#[warn(improper_ctypes)]` on by default\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"`extern` block uses type `SPFHandleOpaque`, which is not FFI-safe","code":{"code":"improper_ctypes","explanation":null},"level":"warning","spans":[{"file_name":"src/spfresh_ffi.rs","byte_start":434,"byte_end":443,"line_start":13,"line_end":13,"column_start":35,"column_end":44,"is_primary":true,"text":[{"text":"    pub fn spf_add_vector(handle: SPFHandle, vec: *const c_float, dim: c_int, id: int64_t) -> c_int;","highlight_start":35,"highlight_end":44}],"label":"not FFI-safe","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"consider adding a member to this struct","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"this struct has no fields","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"the type is defined here","code":null,"level":"note","spans":[{"file_name":"src/spfresh_ffi.rs","byte_start":177,"byte_end":203,"line_start":7,"line_end":7,"column_start":1,"column_end":27,"is_primary":true,"text":[{"text":"pub struct SPFHandleOpaque;","highlight_start":1,"highlight_end":27}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: `extern` block uses type `SPFHandleOpaque`, which is not FFI-safe\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/spfresh_ffi.rs:13:35\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m13\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    pub fn spf_add_vector(handle: SPFHandle, vec: *const c_float, dim: c_int, id: int64_t) -> c_int;\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                                   \u001b[0m\u001b[0m\u001b[1m\u001b[33m^^^^^^^^^\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33mnot FFI-safe\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: consider adding a member to this struct\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: this struct has no fields\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;10mnote\u001b[0m\u001b[0m: the type is defined here\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/spfresh_ffi.rs:7:1\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m7\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0mpub struct SPFHandleOpaque;\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;10m^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"`extern` block uses type `SPFHandleOpaque`, which is not FFI-safe","code":{"code":"improper_ctypes","explanation":null},"level":"warning","spans":[{"file_name":"src/spfresh_ffi.rs","byte_start":542,"byte_end":551,"line_start":15,"line_end":15,"column_start":17,"column_end":26,"is_primary":true,"text":[{"text":"        handle: SPFHandle,","highlight_start":17,"highlight_end":26}],"label":"not FFI-safe","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"consider adding a member to this struct","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"this struct has no fields","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"the type is defined here","code":null,"level":"note","spans":[{"file_name":"src/spfresh_ffi.rs","byte_start":177,"byte_end":203,"line_start":7,"line_end":7,"column_start":1,"column_end":27,"is_primary":true,"text":[{"text":"pub struct SPFHandleOpaque;","highlight_start":1,"highlight_end":27}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: `extern` block uses type `SPFHandleOpaque`, which is not FFI-safe\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/spfresh_ffi.rs:15:17\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m15\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        handle: SPFHandle,\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                 \u001b[0m\u001b[0m\u001b[1m\u001b[33m^^^^^^^^^\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33mnot FFI-safe\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: consider adding a member to this struct\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: this struct has no fields\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;10mnote\u001b[0m\u001b[0m: the type is defined here\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/spfresh_ffi.rs:7:1\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m7\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0mpub struct SPFHandleOpaque;\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;10m^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"`extern` block uses type `SPFHandleOpaque`, which is not FFI-safe","code":{"code":"improper_ctypes","explanation":null},"level":"warning","spans":[{"file_name":"src/spfresh_ffi.rs","byte_start":739,"byte_end":748,"line_start":22,"line_end":22,"column_start":30,"column_end":39,"is_primary":true,"text":[{"text":"    pub fn spf_close(handle: SPFHandle) -> c_int;","highlight_start":30,"highlight_end":39}],"label":"not FFI-safe","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"consider adding a member to this struct","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"this struct has no fields","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"the type is defined here","code":null,"level":"note","spans":[{"file_name":"src/spfresh_ffi.rs","byte_start":177,"byte_end":203,"line_start":7,"line_end":7,"column_start":1,"column_end":27,"is_primary":true,"text":[{"text":"pub struct SPFHandleOpaque;","highlight_start":1,"highlight_end":27}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: `extern` block uses type `SPFHandleOpaque`, which is not FFI-safe\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/spfresh_ffi.rs:22:30\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m22\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    pub fn spf_close(handle: SPFHandle) -> c_int;\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                              \u001b[0m\u001b[0m\u001b[1m\u001b[33m^^^^^^^^^\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33mnot FFI-safe\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: consider adding a member to this struct\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: this struct has no fields\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;10mnote\u001b[0m\u001b[0m: the type is defined here\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/spfresh_ffi.rs:7:1\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m7\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0mpub struct SPFHandleOpaque;\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;10m^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"linking with `cc` failed: exit status: 1","code":null,"level":"error","spans":[],"children":[{"message":" \"cc\" \"-m64\" \"/tmp/rustcCEVFuP/symbols.o\" \"<257 object files omitted>\" \"-Wl,--as-needed\" \"-Wl,-Bstatic\" \"-lspfresh_lib\" \"-Wl,-Bdynamic\" \"-lstdc++\" \"-Wl,-Bstatic\" \"/home/rexstream31319/SematicSearchNew/backend/target/debug/deps/{libaxum-8f0c93a45343543b.rlib,libserde_path_to_error-2aa271378a504199.rlib,libserde_json-257decf52ba67a46.rlib,libmemchr-828f7514889e6092.rlib,libserde_urlencoded-6265446045b5bb42.rlib,libryu-37d53b4f77257f86.rlib,libform_urlencoded-9b0136676b78d9e7.rlib,libhyper_util-c1c9a1e1d8ef220a.rlib,libbase64-169e80cc244b88d1.rlib,libpercent_encoding-463af3bb23658951.rlib,libipnet-2aac75a0fbf913b7.rlib,libhyper-5b61f9ebf14ff595.rlib,libwant-65d33fb3976c0b7a.rlib,libtry_lock-85edf1e11d3a5298.rlib,libhttparse-69bbcae49d08f296.rlib,libh2-6c762f04810c1863.rlib,libindexmap-e86a37dc6c18d51e.rlib,libequivalent-742118f59cddfc47.rlib,libhashbrown-2806a3373ea339cd.rlib,libslab-2f88cc462e1fe922.rlib,libtokio_util-f33b15ea704bcfa2.rlib,libfutures_sink-120d6b5c0eab5386.rlib,libatomic_waker-13689506c7f0be71.rlib,libhttpdate-0986d952b4b79a01.rlib,libfutures_channel-70790e4cbef57726.rlib,libmatchit-e29005f7cc6c3d56.rlib,libaxum_core-eace69044515e34a.rlib,libmime-19dbee6f0f8f1382.rlib,libhttp_body_util-de6120cb6ff42ee0.rlib,libhttp_body-de8dfae14802639f.rlib,libhttp-826bbff19fe0c7f5.rlib,libitoa-7daef434c89f043b.rlib,libfnv-e86d9923dc926ea6.rlib,libtracing-03ce65924d84c921.rlib,liblog-caa596a096de7a2c.rlib,libtracing_core-8071d59cc7019604.rlib,libonce_cell-cb750dec258583fe.rlib,libtower-c5f856c5fc79fd91.rlib,libsync_wrapper-afc9810b592d9f02.rlib,libfutures_util-3c633e76ffa05da5.rlib,libfutures_task-81dde6ca7631ceab.rlib,libpin_utils-25df2e9bf3ca1c40.rlib,libtower_layer-7aec91cc0ec314ae.rlib,libfutures_core-f6a43156147538e7.rlib,libtower_service-f2bb19b3a855b555.rlib,libtokio-384d5eddbfc4359b.rlib,libsignal_hook_registry-56c9b79afea0981c.rlib,libsocket2-23380c2f1cb4e8e2.rlib,libbytes-b971fec643874c18.rlib,libmio-11c27f1a740cf3eb.rlib,libparking_lot-e49dd6c5163f4c24.rlib,libparking_lot_core-755be9124c47b492.rlib,libcfg_if-8c106a0aa6df78e9.rlib,libsmallvec-480af1b672a5d261.rlib,liblock_api-59ccc7edac88d070.rlib,libscopeguard-675bcd8d02509606.rlib,libpin_project_lite-dbb7ad05ebc1034f.rlib,libthiserror-28b3f4f03bffec38.rlib,libserde-790ae6de938ccd64.rlib,libfs2-9a515f9d0c9389eb.rlib,liblibc-3978a69e9378dacb.rlib}.rlib\" \"<sysroot>/lib/rustlib/x86_64-unknown-linux-gnu/lib/{libstd-*,libpanic_unwind-*,libobject-*,libmemchr-*,libaddr2line-*,libgimli-*,librustc_demangle-*,libstd_detect-*,libhashbrown-*,librustc_std_workspace_alloc-*,libminiz_oxide-*,libadler2-*,libunwind-*,libcfg_if-*,liblibc-*,librustc_std_workspace_core-*,liballoc-*,libcore-*,libcompiler_builtins-*}.rlib\" \"-Wl,-Bdynamic\" \"-lgcc_s\" \"-lutil\" \"-lrt\" \"-lpthread\" \"-lm\" \"-ldl\" \"-lc\" \"-L\" \"/tmp/rustcCEVFuP/raw-dylibs\" \"-Wl,--eh-frame-hdr\" \"-Wl,-z,noexecstack\" \"-L\" \"/home/rexstream31319/SematicSearchNew/backend/target/debug/build/ring-c3152000fa1c3f58/out\" \"-L\" \"/home/rexstream31319/SematicSearchNew/backend/target/debug/build/onig_sys-95706fe8ba3feec7/out\" \"-L\" \"/home/rexstream31319/SematicSearchNew/backend/SPFresh/Release\" \"-L\" \"/home/rexstream31319/.cache/ort.pyke.io/dfbin/x86_64-unknown-linux-gnu/ED1716DE95974BF47AB0223CA33734A0B5A5D09A181225D0E8ED62D070AEA893/onnxruntime/lib\" \"-L\" \"<sysroot>/lib/rustlib/x86_64-unknown-linux-gnu/lib\" \"-o\" \"/home/rexstream31319/SematicSearchNew/backend/target/debug/deps/backend-e9ee76dca90f3d0b\" \"-Wl,--gc-sections\" \"-pie\" \"-Wl,-z,relro,-z,now\" \"-nodefaultlibs\"","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"some arguments are omitted. use `--verbose` to show all linker arguments","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"/usr/bin/ld: /home/rexstream31319/SematicSearchNew/backend/SPFresh/Release/libspfresh_lib.a(spfresh_c_api.cpp.o): in function `spf_init_index':\nspfresh_c_api.cpp:(.text+0x92): undefined reference to `spfresh::Index::Index(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\n/usr/bin/ld: spfresh_c_api.cpp:(.text+0xb2): undefined reference to `spfresh::Index::good() const'\n/usr/bin/ld: spfresh_c_api.cpp:(.text+0x15e): undefined reference to `spfresh::Index::~Index()'\n/usr/bin/ld: /home/rexstream31319/SematicSearchNew/backend/SPFresh/Release/libspfresh_lib.a(spfresh_c_api.cpp.o): in function `spf_close':\nspfresh_c_api.cpp:(.text+0x1be): undefined reference to `spfresh::Index::~Index()'\n/usr/bin/ld: /home/rexstream31319/SematicSearchNew/backend/SPFresh/Release/libspfresh_lib.a(spfresh_c_api.cpp.o): in function `spf_add_vector':\nspfresh_c_api.cpp:(.text+0x27b): undefined reference to `spfresh::Index::add(std::vector<float, std::allocator<float> > const&, long)'\n/usr/bin/ld: /home/rexstream31319/SematicSearchNew/backend/SPFresh/Release/libspfresh_lib.a(spfresh_c_api.cpp.o): in function `spf_search':\nspfresh_c_api.cpp:(.text+0x3dd): undefined reference to `spfresh::Index::knn_search(std::vector<float, std::allocator<float> > const&, int)'\ncollect2: error: ld returned 1 exit status\n","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"some `extern` functions couldn't be found; some native libraries may need to be installed or have their path specified","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"use the `-l` flag to specify native libraries to link","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"use the `cargo:rustc-link-lib` directive to specify the native libraries to link with Cargo (see https://doc.rust-lang.org/cargo/reference/build-scripts.html#rustc-link-lib)","code":null,"level":"note","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: linking with `cc` failed: exit status: 1\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m:  \"cc\" \"-m64\" \"/tmp/rustcCEVFuP/symbols.o\" \"<257 object files omitted>\" \"-Wl,--as-needed\" \"-Wl,-Bstatic\" \"-lspfresh_lib\" \"-Wl,-Bdynamic\" \"-lstdc++\" \"-Wl,-Bstatic\" \"/home/rexstream31319/SematicSearchNew/backend/target/debug/deps/{libaxum-8f0c93a45343543b.rlib,libserde_path_to_error-2aa271378a504199.rlib,libserde_json-257decf52ba67a46.rlib,libmemchr-828f7514889e6092.rlib,libserde_urlencoded-6265446045b5bb42.rlib,libryu-37d53b4f77257f86.rlib,libform_urlencoded-9b0136676b78d9e7.rlib,libhyper_util-c1c9a1e1d8ef220a.rlib,libbase64-169e80cc244b88d1.rlib,libpercent_encoding-463af3bb23658951.rlib,libipnet-2aac75a0fbf913b7.rlib,libhyper-5b61f9ebf14ff595.rlib,libwant-65d33fb3976c0b7a.rlib,libtry_lock-85edf1e11d3a5298.rlib,libhttparse-69bbcae49d08f296.rlib,libh2-6c762f04810c1863.rlib,libindexmap-e86a37dc6c18d51e.rlib,libequivalent-742118f59cddfc47.rlib,libhashbrown-2806a3373ea339cd.rlib,libslab-2f88cc462e1fe922.rlib,libtokio_util-f33b15ea704bcfa2.rlib,libfutures_sink-120d6b5c0eab5386.rlib,libatomic_waker-13689506c7f0be71.rlib,libhttpdate-0986d952b4b79a01.rlib,libfutures_channel-70790e4cbef57726.rlib,libmatchit-e29005f7cc6c3d56.rlib,libaxum_core-eace69044515e34a.rlib,libmime-19dbee6f0f8f1382.rlib,libhttp_body_util-de6120cb6ff42ee0.rlib,libhttp_body-de8dfae14802639f.rlib,libhttp-826bbff19fe0c7f5.rlib,libitoa-7daef434c89f043b.rlib,libfnv-e86d9923dc926ea6.rlib,libtracing-03ce65924d84c921.rlib,liblog-caa596a096de7a2c.rlib,libtracing_core-8071d59cc7019604.rlib,libonce_cell-cb750dec258583fe.rlib,libtower-c5f856c5fc79fd91.rlib,libsync_wrapper-afc9810b592d9f02.rlib,libfutures_util-3c633e76ffa05da5.rlib,libfutures_task-81dde6ca7631ceab.rlib,libpin_utils-25df2e9bf3ca1c40.rlib,libtower_layer-7aec91cc0ec314ae.rlib,libfutures_core-f6a43156147538e7.rlib,libtower_service-f2bb19b3a855b555.rlib,libtokio-384d5eddbfc4359b.rlib,libsignal_hook_registry-56c9b79afea0981c.rlib,libsocket2-23380c2f1cb4e8e2.rlib,libbytes-b971fec643874c18.rlib,libmio-11c27f1a740cf3eb.rlib,libparking_lot-e49dd6c5163f4c24.rlib,libparking_lot_core-755be9124c47b492.rlib,libcfg_if-8c106a0aa6df78e9.rlib,libsmallvec-480af1b672a5d261.rlib,liblock_api-59ccc7edac88d070.rlib,libscopeguard-675bcd8d02509606.rlib,libpin_project_lite-dbb7ad05ebc1034f.rlib,libthiserror-28b3f4f03bffec38.rlib,libserde-790ae6de938ccd64.rlib,libfs2-9a515f9d0c9389eb.rlib,liblibc-3978a69e9378dacb.rlib}.rlib\" \"<sysroot>/lib/rustlib/x86_64-unknown-linux-gnu/lib/{libstd-*,libpanic_unwind-*,libobject-*,libmemchr-*,libaddr2line-*,libgimli-*,librustc_demangle-*,libstd_detect-*,libhashbrown-*,librustc_std_workspace_alloc-*,libminiz_oxide-*,libadler2-*,libunwind-*,libcfg_if-*,liblibc-*,librustc_std_workspace_core-*,liballoc-*,libcore-*,libcompiler_builtins-*}.rlib\" \"-Wl,-Bdynamic\" \"-lgcc_s\" \"-lutil\" \"-lrt\" \"-lpthread\" \"-lm\" \"-ldl\" \"-lc\" \"-L\" \"/tmp/rustcCEVFuP/raw-dylibs\" \"-Wl,--eh-frame-hdr\" \"-Wl,-z,noexecstack\" \"-L\" \"/home/rexstream31319/SematicSearchNew/backend/target/debug/build/ring-c3152000fa1c3f58/out\" \"-L\" \"/home/rexstream31319/SematicSearchNew/backend/target/debug/build/onig_sys-95706fe8ba3feec7/out\" \"-L\" \"/home/rexstream31319/SematicSearchNew/backend/SPFresh/Release\" \"-L\" \"/home/rexstream31319/.cache/ort.pyke.io/dfbin/x86_64-unknown-linux-gnu/ED1716DE95974BF47AB0223CA33734A0B5A5D09A181225D0E8ED62D070AEA893/onnxruntime/lib\" \"-L\" \"<sysroot>/lib/rustlib/x86_64-unknown-linux-gnu/lib\" \"-o\" \"/home/rexstream31319/SematicSearchNew/backend/target/debug/deps/backend-e9ee76dca90f3d0b\" \"-Wl,--gc-sections\" \"-pie\" \"-Wl,-z,relro,-z,now\" \"-nodefaultlibs\"\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: some arguments are omitted. use `--verbose` to show all linker arguments\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: /usr/bin/ld: /home/rexstream31319/SematicSearchNew/backend/SPFresh/Release/libspfresh_lib.a(spfresh_c_api.cpp.o): in function `spf_init_index':\u001b[0m\n\u001b[0m          spfresh_c_api.cpp:(.text+0x92): undefined reference to `spfresh::Index::Index(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\u001b[0m\n\u001b[0m          /usr/bin/ld: spfresh_c_api.cpp:(.text+0xb2): undefined reference to `spfresh::Index::good() const'\u001b[0m\n\u001b[0m          /usr/bin/ld: spfresh_c_api.cpp:(.text+0x15e): undefined reference to `spfresh::Index::~Index()'\u001b[0m\n\u001b[0m          /usr/bin/ld: /home/rexstream31319/SematicSearchNew/backend/SPFresh/Release/libspfresh_lib.a(spfresh_c_api.cpp.o): in function `spf_close':\u001b[0m\n\u001b[0m          spfresh_c_api.cpp:(.text+0x1be): undefined reference to `spfresh::Index::~Index()'\u001b[0m\n\u001b[0m          /usr/bin/ld: /home/rexstream31319/SematicSearchNew/backend/SPFresh/Release/libspfresh_lib.a(spfresh_c_api.cpp.o): in function `spf_add_vector':\u001b[0m\n\u001b[0m          spfresh_c_api.cpp:(.text+0x27b): undefined reference to `spfresh::Index::add(std::vector<float, std::allocator<float> > const&, long)'\u001b[0m\n\u001b[0m          /usr/bin/ld: /home/rexstream31319/SematicSearchNew/backend/SPFresh/Release/libspfresh_lib.a(spfresh_c_api.cpp.o): in function `spf_search':\u001b[0m\n\u001b[0m          spfresh_c_api.cpp:(.text+0x3dd): undefined reference to `spfresh::Index::knn_search(std::vector<float, std::allocator<float> > const&, int)'\u001b[0m\n\u001b[0m          collect2: error: ld returned 1 exit status\u001b[0m\n\u001b[0m          \u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: some `extern` functions couldn't be found; some native libraries may need to be installed or have their path specified\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: use the `-l` flag to specify native libraries to link\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: use the `cargo:rustc-link-lib` directive to specify the native libraries to link with Cargo (see https://doc.rust-lang.org/cargo/reference/build-scripts.html#rustc-link-lib)\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"aborting due to 1 previous error; 19 warnings emitted","code":null,"level":"error","spans":[],"children":[],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: aborting due to 1 previous error; 19 warnings emitted\u001b[0m\n\n"}
